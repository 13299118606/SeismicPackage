<?xml version="1.0"?>
<!DOCTYPE Gui SYSTEM "gui.dtd">
<Gui>
 <Window keyword="xputil" width="1024" height="700">
  <CommandArea keyword="CommandArea">
   <Screen keyword="SCREEN01" title="SCREEN01" rows="1" columns="1" minCellWidth="8" minCellHeight="12">
    <Label keyword="LABEL_GAIN_MODE" alignment="left">GAIN_MODE=</Label>
    <Field keyword="GAIN_MODE" type="comboBox" maxLength="30" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_HDR_FIRST" alignment="left">HDR_FIRST=</Label>
    <Field keyword="HDR_FIRST" type="int" maxLength="3" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_NWIH_INPUT" alignment="left">NWIH_INPUT =</Label>
    <Field keyword="NWIH_INPUT" type="string" maxLength="3" editable="no" sensitive="yes"/>
    <Label keyword="LABEL_HDR_LAST" alignment="left">HDR_LAST =</Label>
    <Field keyword="HDR_LAST" type="int" maxLength="3" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_NWIH_OUTPUT" alignment="left">NWIH_OUTPUT=</Label>
    <Field keyword="NWIH_OUTPUT" type="string" maxLength="3" editable="no" sensitive="yes"/>
    <Label keyword="LABEL_START_VAL" alignment="left">START_VAL=</Label>
    <Field keyword="START_VAL" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_TIM_LAST" alignment="left">TIM_LAST=</Label>
    <Field keyword="TIM_LAST" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_GAIN_MAX" alignment="left">GAIN_MAX=</Label>
    <Field keyword="GAIN_MAX" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <Border keyword="BORDER1"/>
    <Label keyword="LABEL_WINDOWS" alignment="left">WINDOWS=</Label>
    <Field keyword="WINDOWS" type="comboBox" maxLength="7" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_WIN_LEN" alignment="left">WIN_LEN=</Label>
    <Field keyword="WIN_LEN" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <ArraySet keyword="TIM_WIN_ARRAYSET" label="TIM_WIN     TIM_LEN">
     <Array keyword="TIM_WIN" type="float" maxLength="12 " columnName="TIM_WIN" editable="yes" sensitive="yes" columnSize="12"/>
     <Array keyword="TIM_LEN" type="float" maxLength="12 " columnName="TIM_LEN" editable="yes" sensitive="yes" columnSize="12"/>
    </ArraySet>
    <Label keyword="LABEL_WIN_INC" alignment="left">WIN_INC=</Label>
    <Field keyword="WIN_INC" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <Border keyword="BORDER2"/>
    <Label keyword="COMMENT_DEBRIGHTENPARAMETERS" alignment="center">Debrighten Parameters</Label>
    <Label keyword="LABEL_DEBRI" alignment="left">DEBRI=</Label>
    <Field keyword="DEBRI" type="comboBox" maxLength="3" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_DEBRI_MAX" alignment="left">DEBRI_MAX=</Label>
    <Field keyword="DEBRI_MAX" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_DEBRI_TPR" alignment="left">DEBRI_TPR=</Label>
    <Field keyword="DEBRI_TPR" type="float" maxLength="11" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_DEBRI_TIM_BEG" alignment="left">DEBRI_TIM_BEG=</Label>
    <Field keyword="DEBRI_TIM_BEG" type="float" maxLength="12" editable="yes" sensitive="yes"/>
    <Label keyword="LABEL_DEBRI_TIM_END" alignment="left">DEBRI_TIM_END=</Label>
    <Field keyword="DEBRI_TIM_END" type="float" maxLength="11" editable="yes" sensitive="yes"/>
    <Layout>
     <Constraints component="LABEL_GAIN_MODE" xPos="1" yPos="0" xSize="10" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="GAIN_MODE" xPos="11" yPos="0" xSize="30" ySize="1" xStretch="false" yStretch="true"/>
     <Constraints component="LABEL_HDR_FIRST" xPos="44" yPos="0" xSize="10" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="HDR_FIRST" xPos="54" yPos="0" xSize="3" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_NWIH_INPUT" xPos="60" yPos="0" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="NWIH_INPUT" xPos="72" yPos="0" xSize="3" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_HDR_LAST" xPos="44" yPos="1" xSize="10" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="HDR_LAST" xPos="54" yPos="1" xSize="3" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_NWIH_OUTPUT" xPos="60" yPos="1" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="NWIH_OUTPUT" xPos="72" yPos="1" xSize="3" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_START_VAL" xPos="1" yPos="3" xSize="10" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="START_VAL" xPos="11" yPos="3" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_TIM_LAST" xPos="26" yPos="3" xSize="9" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="TIM_LAST" xPos="35" yPos="3" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_GAIN_MAX" xPos="50" yPos="3" xSize="9" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="GAIN_MAX" xPos="59" yPos="3" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="BORDER1" xPos="6" yPos="5" xSize="57" ySize="10"/>
     <Constraints component="LABEL_WINDOWS" xPos="26" yPos="6" xSize="8" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="WINDOWS" xPos="34" yPos="6" xSize="7" ySize="1" xStretch="false" yStretch="true"/>
     <Constraints component="LABEL_WIN_LEN" xPos="10" yPos="8" xSize="8" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="WIN_LEN" xPos="18" yPos="8" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="TIM_WIN_ARRAYSET" xPos="34" yPos="8" xSize="27" ySize="6" xStretch="true" yStretch="true"/>
     <Constraints component="LABEL_WIN_INC" xPos="10" yPos="9" xSize="8" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="WIN_INC" xPos="18" yPos="9" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="BORDER2" xPos="6" yPos="16" xSize="57" ySize="8"/>
     <Constraints component="COMMENT_DEBRIGHTENPARAMETERS" xPos="23" yPos="17" xSize="21" ySize="1" xStretch="true" yStretch="false"/>
     <Constraints component="LABEL_DEBRI" xPos="28" yPos="19" xSize="6" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="DEBRI" xPos="34" yPos="19" xSize="3" ySize="1" xStretch="false" yStretch="true"/>
     <Constraints component="LABEL_DEBRI_MAX" xPos="8" yPos="21" xSize="14" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="DEBRI_MAX" xPos="22" yPos="21" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_DEBRI_TPR" xPos="36" yPos="21" xSize="14" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="DEBRI_TPR" xPos="50" yPos="21" xSize="11" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_DEBRI_TIM_BEG" xPos="8" yPos="22" xSize="14" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="DEBRI_TIM_BEG" xPos="22" yPos="22" xSize="12" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="LABEL_DEBRI_TIM_END" xPos="36" yPos="22" xSize="14" ySize="1" xStretch="false" yStretch="false"/>
     <Constraints component="DEBRI_TIM_END" xPos="50" yPos="22" xSize="11" ySize="1" xStretch="false" yStretch="false"/>
    </Layout>
    <HelpSection>
     <Help component="GAIN_MODE">
      <Tip>Whether to apply or remove the gain.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - GAIN_MODE<br> Whether to apply or remove the gain.</center></b>
<pre>  Default = "APPLY PERMANENT GAIN"
  Allowed = "APPLY PERMANENT GAIN"
  Allowed = "APPLY REMOVABLE GAIN"
  Allowed = "REMOVE PREVIOUS GAIN"
 
  When applying a gain which is removable, the gain parameters are stored
  in user-defined header words tacked onto the end of the trace headers.
  These user-defined header words are then deleted when the gain is removed.
  When the gain is removed, all process parameters except GAIN_MODE, HDR_FIRST,
  and HDR_LAST are irrelevant.
 
  If DEBRI is YES when applying a removable gain, the debrightening operation
  is permanent (i.e. when removing the gain later, the debrightened portions
  of the trace will remain debrightened).
 
  If traces with bad gain headers are encountered while removing previous
  gain, the trace is killed.  A report is printed telling how many such
  traces were killed.  Usually this means that this trace did not exist
  yet when the original gain was applied.  This might also mean that the
  trace was dead when the previous gain was applied, but was live when
  removing previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="HDR_FIRST">
      <Tip>First user-defined header word for storing gain information.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - HDR_FIRST<br> First user-defined header word for storing gain information.</center></b>
<pre>  Default = NWIH+1  (set automatically when applying a removable gain)
  Allowed = NWIH+1  (set automatically when applying a removable gain)
 
  Additional header words from HDR_FIRST to HDR_LAST are created when
  applying a removable gain.  These additional headers are then deleted
  when removing the gain (unless other additional headers were created
  for other purposes in the interim).
 
  The number of additional header words required is 1 + 2*NUMWIN, where
  NUMWIN is the number of trace expansion windows used.
 
  HDR_FIRST and HDR_LAST are set automatically when applying a removable
  gain, and must be set by the user to the same values when removing the
  previously-applied gain.
 
  HDR_FIRST and HDR_LAST are set automatically to zero (and ignored) when
  applying a permanent gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="NWIH_INPUT">
      <Tip>Number of trace header words entering this process.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - NWIH_INPUT<br> Number of trace header words entering this process.</center></b>
</html>]]></Text>
     </Help>
     <Help component="HDR_LAST">
      <Tip>Last user-defined header word for storing gain information.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - HDR_LAST<br> Last user-defined header word for storing gain information.</center></b>
<pre>  Default = NWIH+1+2*NUMWIN (set automatically when applying a removable gain)
  Allowed = NWIH+1+2*NUMWIN (set automatically when applying a removable gain)
 
  Additional header words from HDR_FIRST to HDR_LAST are created when
  applying a removable gain.  These additional headers are then deleted
  when removing the gain (unless other additional headers were created
  for other purposes in the interim).
 
  The number of additional header words required is 1 + 2*NUMWIN, where
  NUMWIN is the number of trace expansion windows used.
 
  HDR_FIRST and HDR_LAST are set automatically when applying a removable
  gain, and must be set by the user to the same values when removing the
  previously-applied gain.
 
  HDR_FIRST and HDR_LAST are set automatically to zero (and ignored) when
  applying a permanent gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="NWIH_OUTPUT">
      <Tip>Number of trace header words exiting this process.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - NWIH_OUTPUT<br> Number of trace header words exiting this process.</center></b>
</html>]]></Text>
     </Help>
     <Help component="START_VAL">
      <Tip>Amplitude threshold parameter for start of first window.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - START_VAL<br> Amplitude threshold parameter for start of first window.</center></b>
<pre>  Default = 0.0
  Allowed = 0&lt;=real&lt;1
 
  Start window at the first sample whose absolute amplitude exceeds
  START_VAL * trace LAV.  If START_VAL = 0.0 then start at mute time.
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="TIM_LAST">
      <Tip>Last time to use in calculating gain function.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - TIM_LAST<br> Last time to use in calculating gain function.</center></b>
<pre>  Default = tr_end
  Allowed = real&gt;TSTRT
 
  The entire trace is balanced, although the gain calculation ignores trace
  values beyond TIM_LAST.
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="GAIN_MAX">
      <Tip>Maximum gain to allow.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - GAIN_MAX<br> Maximum gain to allow.</center></b>
<pre>  Default = 1.0e30
  Allowed = real&gt;0.0
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="WINDOWS">
      <Tip>Selects one constant window or multiple time varying windows.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - WINDOWS<br> Selects one constant window or multiple time varying windows.</center></b>
<pre>  Default = "REGULAR"
  Allowed = "REGULAR" one constant window specified by WIN_LEN and WIN_INC.
  Allowed = "CUSTOM" multiple, time varying windows via TIM_WIN and TIM_LEN.
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="WIN_LEN">
      <Tip>Window length, in seconds.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - WIN_LEN<br> Window length, in seconds.</center></b>
<pre>  Default = 0.5             (for XP)
  Default = 1.0             (for MVXP)
  Allowed = real&gt;10*DT
 
  Window length in seconds.
  This parameter is used only when WINDOWS is "REGULAR".
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="TIM_WIN">
      <Tip>Array of window start times (may be time varying).</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - TIM_WIN<br> Array of window start times (may be time varying).</center></b>
<pre>  Default = 0.5
  Allowed = real&gt;0.0
 
  Linked array of window start times and window lengths, in seconds.
  TIM_WIN values are measured from the mute time.
  This parameter is used only when WINDOWS is "CUSTOM".
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="TIM_LEN">
      <Tip>Array of window lengths (may be time varying).</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - TIM_LEN<br> Array of window lengths (may be time varying).</center></b>
<pre>  Default = 0.5
  Allowed = real&gt;DT
 
  Linked array of window start times and window lengths in seconds.
  TIM_WIN values are measured from the mute time.
  This parameter is used only when WINDOWS is "CUSTOM".
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="WIN_INC">
      <Tip>Time increment for window locations, in seconds.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - WIN_INC<br> Time increment for window locations, in seconds.</center></b>
<pre>  Default = 0.5             (for XP)
  Default = 0.25            (for MVXP)
  Allowed = real&gt;=DT
 
  Time increment for window locations in seconds.
  This parameter is used only when WINDOWS is "REGULAR".
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="DEBRI">
      <Tip>Option whether to perform debrighten.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - DEBRI<br> Option whether to perform debrighten.</center></b>
<pre>  Default = YES             (for XP)
  Default = NO              (for MVXP)
  Allowed = YES/NO
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="DEBRI_MAX">
      <Tip>Debrighten threshold.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - DEBRI_MAX<br> Debrighten threshold.</center></b>
<pre>  Default = 4.4186          (for XP)
  Default = 10.0            (for MVXP)
  Allowed = real&gt;1.0
 
  Samples exceeding this absolute amplitude after amplitude balance are
  debrightened.
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="DEBRI_TPR">
      <Tip>Width in seconds for each side of the debrighten taper.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - DEBRI_TPR<br> Width in seconds for each side of the debrighten taper.</center></b>
<pre>  Default = 0.032
  Allowed = real&gt;0.0
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="DEBRI_TIM_BEG">
      <Tip>Time in seconds to begin debrighten operation.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - DEBRI_TIM_BEG<br> Time in seconds to begin debrighten operation.</center></b>
<pre>  Default = TSTRT
  Allowed = real &gt;= TSTRT
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
     <Help component="DEBRI_TIM_END">
      <Tip>Time in seconds to end debrighten operation.</Tip>
      <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<b><center>xputil - DEBRI_TIM_END<br> Time in seconds to end debrighten operation.</center></b>
<pre>  Default = trace end time
  Allowed = DEBRI_TIM_BEG &lt; real &lt;= trace end time
 
  This parameter is ignored when removing a previous gain.</pre></head></html>]]></Text>
     </Help>
    </HelpSection>
   </Screen>
  </CommandArea>
  <Help component="xputil">
   <Text><![CDATA[<html><head><base href=file:///usr/app/vendors/int/Conoco/xml/help/>
<pre>-------------------------------------------------------------------------------
                        C P S   P R I M I T I V E
 
 Name       : XPUTIL                     (XP utilities)
 Category   : amplitude_mod
 Written    : 2003-07-21   by: Tom Stoeckley
 Revised    : 2006-01-10   by: B. Menger
 Maturity   : beta
 Purpose    : Utilities used by both XP and MVXP.
 Portability: No known limitations.
 
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
                         GENERAL DESCRIPTION
 
 This primitive contains the XP and MVXP trace gain algorithm, including
 the required process parameters, gui_def, and HelpSection which are common
 to both XP and MVXP.
 
 See the XP and MVXP documentation, and the HelpSection below, for additional
 information.
 
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
                             REVISION HISTORY
 
     Date        Author     Description
     ----        ------     -----------
007. 2006-01-10  B. Menger   Removed Unused Variables.
  6. 2005-04-11  Stoeckley  Change so will print message about number of
                             traces with bad headers when removing previous
                             gain, rather than to abort in such cases.
  5. 2003-08-11  Stoeckley  Fixed a bug with custom windows, introduced
                             in the initial version of this primitive.
  4. 2003-07-24  Stoeckley  Fixed a remove-gain bug found by Bob Olson; allow
                             debrightening when applying a removable gain.
  3. 2003-07-22  Stoeckley  Fixed two bugs (one found by Bob Olsen).
  2. 2003-07-23  Goodger    Change category to amplitude_mod
  1. 2003-07-21  Stoeckley  Initial version, made from redundancies in XP
                             and MVXP, with additional parameters for removing
                             a previously-applied gain.
 
-------------------------------------------------------------------------------</pre></head></html>]]></Text>
  </Help>
 </Window>
</Gui>
